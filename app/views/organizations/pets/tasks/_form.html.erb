<%= bootstrap_form_with model: task, url: url do |f| %>
  <div class="m-3">
    <div class='row'>
      <div class='col-9'>
        <%= f.text_field :name, class: 'form-control' %>
      </div>
      <div class='col-3'>
        <%= f.date_field :due_date, 
                          class: 'form-control', 
                          id: "due-date",
                          onchange: "document.getElementById('next-due').disabled = !document.getElementById('recur').checked || !this.value;" %>
      </div>
    </div>
  </div>
  <div class="m-3">
    <div class="d-flex flex-row justify-content-between align-items-end gap-2">
      <%= f.check_box :recurring, 
                      { class: "form-check-input",  
                      id: "recur",
                      onchange: "document.getElementById('next-due').disabled = !this.checked || !document.getElementById('due-date').value;"} %>
      <div class="w-75">
        <%= f.number_field :next_due_date_in_days, 
                          label: "Next due date in (days)", 
                          id: "next-due", 
                          class: 'form-control',
                          disabled: task.next_due_date_in_days ? false : true %>
      </div>
    </div>
  </div>
  <div class="m-3">
    <%= f.text_area :description, class: 'form-control', rows: 3 %>
  </div>
  <div class="m-3">
    <%= f.submit class: 'btn btn-primary' %>
  </div>
<% end %>
